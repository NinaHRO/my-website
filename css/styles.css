
/*
 * San Joaquin Valley Town Hall - Main Stylesheet
 * 
 * This stylesheet implements a responsive design with the following features:
 * - Flexbox-based two-column layout that collapses to single column on mobile
 * - Responsive navigation with dropdown menu and mobile hamburger menu
 * - CSS-only interactive elements (no JavaScript required)
 * - Consistent spacing and styling using CSS custom properties
 * - Mobile-first approach with progressive enhancement
 */

/* CSS Custom Properties
 * Defines site-wide variables for consistent:
 * - Colors (accent, background, text)
 * - Spacing (padding, gaps)
 * - Layout (max-width, border-radius)
 * - Effects (shadows)
 */
:root{
  --max-width:1100px;
  --gap:1.25rem;
  --accent:#0b63c6;
  --muted:#666;
  --bg:#f7f8fb;
  --card:#ffffff;
  --radius:8px;
  --shadow: 0 2px 6px rgba(12,18,30,0.06);
  --padding:1.25rem;
}

/* Base Styles
 * Sets fundamental page layout and typography
 * - Uses border-box sizing model
 * - Establishes full-height layout
 * - Sets system font stack with optimized rendering
 */
*{box-sizing:border-box}
html,body{height:100%;}
body{
  margin:0;
  background:var(--bg);
  color:#111;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.45;
}

.container{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto;
  padding:2rem 1rem;
}

header{
  text-align:center;
  margin-bottom:var(--gap);
}

h1{
  margin:0;
  font-size:clamp(1.4rem,2.5vw,2rem);
  /* add extra space below title so nav sits lower */
  padding-bottom: .25rem;
}

/* Navigation Component
 * Implements a responsive navigation system with:
 * - Horizontal layout on desktop
 * - Vertical layout on mobile
 * - Dropdown menu support
 * - Hamburger menu on mobile
 * 
 * Core navigation:
 * nav             - Container for navigation
 * .nav-list       - Flex container for navigation items
 * .nav-list a     - Navigation links
 * .drop-toggle    - Dropdown menu toggle button
 */
nav{
  margin-top: .9rem; /* increase space between title and nav */
}
.nav-list{
  display:flex;
  gap: .75rem; /* slightly larger gap */
  justify-content:center;
  flex-wrap:wrap;
  list-style:none;
  padding:0;
  margin:0;
}
.nav-list a{
  display:inline-block;
  padding:.6rem .9rem;
  color:var(--accent);
  text-decoration:none;
  border-radius:6px;
  font-weight:700;
  font-size:1rem; /* increased font size for navbar links */
  transition: all 120ms ease;
}
.drop-toggle{
  background:transparent;
  border:none;
  color:var(--accent);
  font-weight:700;
  padding:.6rem .9rem;
  border-radius:6px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content: center;  /* Add this to center content */
  gap:.3rem;
  text-align: center;  /* Add this to center text */
  width: 100%;  /* Make the button take full width of its container */
}

/* Remove or comment out the triangle
.drop-toggle::after{
  font-size:.85em;
  line-height:1;
  position:relative;
  top:.1em;
}
*/
.drop-toggle:focus{outline:2px solid rgba(11,99,198,0.12);}
.nav-list a:hover, .nav-list a:focus{background:rgba(11,99,198,0.06)}

/* active link visual indicator */
.nav-list a.active{
  background:var(--accent);
  color:white;
  box-shadow: 0 2px 0 rgba(0,0,0,0.06) inset;
}

/* Dropdown Menu Component
 * Implements a responsive dropdown menu that:
 * - Shows on hover for desktop
 * - Shows on click for mobile
 * - Centers under parent item
 * - Includes arrow pointer
 * - Supports keyboard navigation
 * 
 * Structure:
 * .dropdown       - Container for dropdown menu
 * .dropdown-menu  - The dropdown panel itself
 * .drop-toggle    - Button that toggles the dropdown
 */
.dropdown{position:relative}
.dropdown-menu{
  display:none;
  position:absolute;
  left:50%;
  top:calc(100% + 0.25rem);
  transform:translateX(-50%);
  background:var(--card);
  box-shadow:var(--shadow);
  border:1px solid #e4e7ed;
  min-width:160px;
  z-index:40;
  padding: 0;
  margin: 0;
  list-style: none;
}
.dropdown-menu::before{
  content:'';
  position:absolute;
  top:-4px;
  left:50%;
  transform:translateX(-50%) rotate(45deg);
  width:8px;
  height:8px;
  background:var(--card);
  border-left:1px solid #e4e7ed;
  border-top:1px solid #e4e7ed;
}
.dropdown-menu a,.dropdown-menu .no-link{
  padding:.45rem .6rem;
  text-align: center;
  display: block;
  width: 100%;
}
.dropdown-menu a:hover{background:rgba(11,99,198,0.06)}

/* show dropdown on hover for wide screens */
@media(min-width:720px){
  .submenu-toggle{display:none} /* Hide checkbox on desktop */
  .dropdown:hover > .dropdown-menu,
  .drop-toggle:hover + .dropdown-menu{display:block}
  .dropdown:hover .drop-toggle{background:rgba(11,99,198,0.06)}
}

/* Main Content Layout
 * Implements a responsive two-column layout that:
 * - Uses flexbox for flexible column sizing
 * - Collapses to single column on mobile
 * - Maintains consistent spacing with gaps
 * - Provides card-style content areas
 * 
 * Components:
 * main           - Flex container for layout
 * .content       - Primary content area (60% width)
 * .sidebar       - Secondary content area (35% width)
 */
main{display:flex;flex-direction:column;gap:var(--gap)}

/* Desktop: Two-column layout */
@media (min-width:900px){
  main{flex-direction:row;align-items:flex-start}
}

/* Content area styling */
.content{background:var(--card);border-radius:var(--radius);padding:var(--padding);box-shadow:var(--shadow);flex:2 1 60%;min-width:0}
.sidebar{background:var(--card);border-radius:var(--radius);padding:var(--padding);box-shadow:var(--shadow);flex:1 1 35%;min-width:0}

.hero{display:flex;gap:1rem;align-items:center;margin-bottom:1rem}
.hero .lead{font-size:1rem;color:var(--muted)}

/* Mobile Navigation Toggle
 * Implements a CSS-only hamburger menu that:
 * - Uses a hidden checkbox for state management
 * - Animates between hamburger and X
 * - Reveals navigation when activated
 * - Maintains accessibility
 *
 * Components:
 * .nav-toggle        - Hidden checkbox for state
 * .nav-toggle-label  - Clickable hamburger button
 * .hamburger         - The visual hamburger lines
 */
.nav-toggle{display:none}
.nav-toggle-label{display:none}
.nav-toggle-label .hamburger,
.nav-toggle-label .hamburger::before,
.nav-toggle-label .hamburger::after{
  display:block;
  width:22px;
  height:2px;
  background:var(--accent);
  border-radius:2px;
  position:relative;
  transition: transform 180ms ease, opacity 120ms ease;
}
.nav-toggle-label .hamburger::before,
.nav-toggle-label .hamburger::after{
  content:"";
  position:absolute;
  left:0;
}
.nav-toggle-label .hamburger::before{ top:-7px }
.nav-toggle-label .hamburger::after{ top:7px }

/* small screen: hide nav by default, show toggle */
@media (max-width:720px){
  .nav-wrap{display:block}
  .nav-toggle-label{display:inline-block;cursor:pointer;position:absolute;right:1rem;top:1.4rem;padding:8px}
  .nav-list{display:none;flex-direction:column;gap:0.25rem;background:transparent;margin-top:.75rem}
  .nav-list a{display:block;padding:.6rem 1rem}

  /* when checked, show nav and morph hamburger into X */
  .nav-toggle:checked + .nav-toggle-label .hamburger{
    background:transparent;
  }
  .nav-toggle:checked + .nav-toggle-label .hamburger::before{
    transform: rotate(45deg) translate(4px,4px);
  }
  .nav-toggle:checked + .nav-toggle-label .hamburger::after{
    transform: rotate(-45deg) translate(4px,-4px);
  }
  .nav-toggle:checked ~ .nav-wrap .nav-list{display:flex;background:var(--card);padding:.75rem;border-radius:6px;box-shadow:var(--shadow)}
}

/* Mobile Dropdown Menu
 * Adapts the dropdown menu for mobile views:
 * - Converts to a stacked layout
 * - Removes floating positioning
 * - Simplifies visual styling
 * - Uses checkbox for toggle state
 * 
 * Behavior:
 * - Menu items stack vertically
 * - Dropdown expands in place
 * - Toggle controls visibility
 */
@media(max-width:720px){
  .dropdown-menu{position:static;display:none;padding:0;background:transparent;box-shadow:none}
  .dropdown .drop-toggle{
    width:100%;
    text-align: center;  /* Change from left to center */
  }
  .nav-list .dropdown .no-link{padding:.6rem 1rem}
  /* checkbox-controlled submenu */
  .submenu-toggle{display:none}
  .submenu-toggle:checked + .drop-toggle + .dropdown-menu{display:block}
}

/* Card Grid Component
 * Implements a responsive grid of cards that:
 * - Uses CSS Grid for layout
 * - Switches between 1 and 2 columns
 * - Maintains consistent gaps
 */
.cards{display:grid;gap:.75rem;grid-template-columns:1fr}
@media(min-width:700px){.cards{grid-template-columns:repeat(2,1fr)}}

/* Card Component
 * Individual card styling with subtle gradient
 * and consistent border treatment
 */
.card{padding:.75rem;background:linear-gradient(180deg,#fff,#fcfdff);border-radius:6px;border:1px solid #eef2f7}

/* Call to Action Button
 * Styled button/link that stands out visually
 * Used for primary actions like "Buy Tickets"
 */
.cta{display:inline-block;background:var(--accent);color:white;padding:.6rem .9rem;border-radius:6px;text-decoration:none;font-weight:700}

/* Footer Component
 * Simple centered footer with muted text
 */
footer{margin-top:var(--gap);text-align:center;color:var(--muted);font-size:.95rem}

/* Small Screen Adjustments
 * Final tweaks for very small screens:
 * - Reduces navigation padding
 * - Adjusts hero section layout
 * - Maintains touch-friendly tap targets
 */
@media (max-width:520px){
  .nav-list a{padding:.45rem .5rem;font-size:1rem}
  .hero{flex-direction:column;align-items:flex-start}
}
